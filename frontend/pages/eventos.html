<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eventos - Rueda de Negocios</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>

    <nav class="navbar">
        <div class="container navbar-content">
            <a href="profile.html" class="logo">EventConnect</a>
            <div class="nav-links">
                <span style="color: var(--text-secondary);">Mi Cuenta</span>
            </div>
        </div>
    </nav>

    <div class="dashboard-grid">
        <main>
            
            <!-- SecciÃ³n: Mis Eventos (donde participo) -->
            <div class="card" style="margin-bottom: 2rem;">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1.5rem;">
                    <h2 style="margin-bottom: 0;">ğŸ« Mis Eventos</h2>
                    <span class="role-badge" id="contadorMisEventos">3 eventos</span>
                </div>
                <p>Eventos en los que ya estÃ¡s inscrito.</p>

                <div class="eventos-grid" id="misEventosGrid">
                    
                    <!-- Evento inscrito 1 -->
                    <div class="evento-card evento-inscrito">
                        <div class="evento-card-header">
                            <span class="evento-categoria">ğŸ¢ Networking</span>
                            <span class="status-badge status-approved">Inscrito</span>
                        </div>
                        <h3 class="evento-titulo">Feria de Proveedores 2025</h3>
                        <p class="evento-descripcion">Conecta con mÃ¡s de 50 proveedores nacionales e internacionales. Oportunidad Ãºnica para establecer alianzas estratÃ©gicas...</p>
                        <div class="evento-meta">
                            <span>ğŸ“… 15 Enero, 2025</span>
                            <span>ğŸ“ Centro de Convenciones</span>
                        </div>
                        <div class="evento-actions">
                            <button class="btn btn-secondary" onclick="verDetallesEvento(1)">ğŸ‘ Ver detalles</button>
                            <button class="btn btn-danger" onclick="cancelarInscripcion(1)">Cancelar inscripciÃ³n</button>
                        </div>
                    </div>

                    <!-- Evento inscrito 2 -->
                    <div class="evento-card evento-inscrito">
                        <div class="evento-card-header">
                            <span class="evento-categoria">ğŸš€ TecnologÃ­a</span>
                            <span class="status-badge status-approved">Inscrito</span>
                        </div>
                        <h3 class="evento-titulo">Tech Business Summit</h3>
                        <p class="evento-descripcion">Descubre las Ãºltimas innovaciones tecnolÃ³gicas para tu negocio. Startups, inversores y empresas consolidadas...</p>
                        <div class="evento-meta">
                            <span>ğŸ“… 10 Marzo, 2025</span>
                            <span>ğŸ“ Campus Tech Hub</span>
                        </div>
                        <div class="evento-actions">
                            <button class="btn btn-secondary" onclick="verDetallesEvento(3)">ğŸ‘ Ver detalles</button>
                            <button class="btn btn-danger" onclick="cancelarInscripcion(3)">Cancelar inscripciÃ³n</button>
                        </div>
                    </div>

                    <!-- Evento inscrito 3 -->
                    <div class="evento-card evento-inscrito">
                        <div class="evento-card-header">
                            <span class="evento-categoria">ğŸ½ GastronomÃ­a</span>
                            <span class="status-badge status-approved">Inscrito</span>
                        </div>
                        <h3 class="evento-titulo">Food Business Expo</h3>
                        <p class="evento-descripcion">El punto de encuentro para el sector gastronÃ³mico. Productores, distribuidores y restaurantes...</p>
                        <div class="evento-meta">
                            <span>ğŸ“… 20 Diciembre, 2024</span>
                            <span>ğŸ“ Centro GastronÃ³mico</span>
                        </div>
                        <div class="evento-actions">
                            <button class="btn btn-secondary" onclick="verDetallesEvento(5)">ğŸ‘ Ver detalles</button>
                            <button class="btn btn-danger" onclick="cancelarInscripcion(5)">Cancelar inscripciÃ³n</button>
                        </div>
                    </div>

                </div>
            </div>

            <!-- SecciÃ³n: Explorar Eventos -->
            <div class="card">
                <h2>ğŸ” Explorar Eventos</h2>
                <p>Descubre nuevos eventos y oportunidades de networking.</p>

                <!-- Barra de bÃºsqueda y filtros -->
                <div class="eventos-filtros">
                    <div class="busqueda-container">
                        <input type="text" class="form-control" id="busquedaEventos" 
                               placeholder="ğŸ” Buscar eventos por nombre...">
                    </div>
                    <div class="categorias-container">
                        <span class="filtro-label">Filtrar por categorÃ­a:</span>
                        <div class="categorias-tags">
                            <button class="categoria-tag active" data-categoria="todos">Todos</button>
                            <button class="categoria-tag" data-categoria="networking">ğŸ¢ Networking</button>
                            <button class="categoria-tag" data-categoria="comercio">ğŸ’¼ Comercio</button>
                            <button class="categoria-tag" data-categoria="tecnologia">ğŸš€ TecnologÃ­a</button>
                            <button class="categoria-tag" data-categoria="sostenibilidad">ğŸŒ± Sostenibilidad</button>
                            <button class="categoria-tag" data-categoria="gastronomia">ğŸ½ GastronomÃ­a</button>
                            <button class="categoria-tag" data-categoria="finanzas">ğŸ’° Finanzas</button>
                        </div>
                    </div>
                </div>

                <!-- Grid de eventos disponibles -->
                <div class="eventos-grid" id="eventosDisponiblesGrid">
                    
                    <!-- Evento 2 -->
                    <div class="evento-card" data-categoria="comercio" data-id="2">
                        <div class="evento-card-header">
                            <span class="evento-categoria">ğŸ’¼ Comercio</span>
                            <span class="evento-fecha-badge">22 Feb</span>
                        </div>
                        <h3 class="evento-titulo">Expo Importadores Latam</h3>
                        <p class="evento-descripcion">El evento mÃ¡s grande de importadores de LatinoamÃ©rica. Presenta tus productos a compradores de toda la regiÃ³n...</p>
                        <div class="evento-meta">
                            <span>ğŸ“… 22 Febrero, 2025</span>
                            <span>ğŸ“ Hotel Marriott</span>
                        </div>
                        <div class="evento-info-extra">
                            <span>ğŸ‘¥ 120/300 inscritos</span>
                            <span>â± Cierra en 15 dÃ­as</span>
                        </div>
                        <div class="evento-actions">
                            <button class="btn btn-secondary" onclick="verDetallesEvento(2)">ğŸ‘ Ver detalles</button>
                            <button class="btn btn-primary" onclick="unirseEvento(2)">âœ¨ Unirse</button>
                        </div>
                    </div>

                    <!-- Evento 4 -->
                    <div class="evento-card" data-categoria="sostenibilidad" data-id="4">
                        <div class="evento-card-header">
                            <span class="evento-categoria">ğŸŒ± Sostenibilidad</span>
                            <span class="evento-fecha-badge">5 Abr</span>
                        </div>
                        <h3 class="evento-titulo">Green Commerce Forum</h3>
                        <p class="evento-descripcion">Foro dedicado a empresas con enfoque sostenible. Aprende sobre prÃ¡cticas eco-amigables y conecta con proveedores...</p>
                        <div class="evento-meta">
                            <span>ğŸ“… 5 Abril, 2025</span>
                            <span>ğŸ“ Parque Empresarial Verde</span>
                        </div>
                        <div class="evento-info-extra">
                            <span>ğŸ‘¥ 89/250 inscritos</span>
                            <span>â± Cierra en 45 dÃ­as</span>
                        </div>
                        <div class="evento-actions">
                            <button class="btn btn-secondary" onclick="verDetallesEvento(4)">ğŸ‘ Ver detalles</button>
                            <button class="btn btn-primary" onclick="unirseEvento(4)">âœ¨ Unirse</button>
                        </div>
                    </div>

                    <!-- Evento 6 - Nuevo -->
                    <div class="evento-card" data-categoria="finanzas" data-id="6">
                        <div class="evento-card-header">
                            <span class="evento-categoria">ğŸ’° Finanzas</span>
                            <span class="evento-fecha-badge">18 Ene</span>
                        </div>
                        <h3 class="evento-titulo">Inversores & Startups Connect</h3>
                        <p class="evento-descripcion">Conecta directamente con inversores Ã¡ngeles y fondos de capital de riesgo. Sesiones de pitch y networking exclusivo...</p>
                        <div class="evento-meta">
                            <span>ğŸ“… 18 Enero, 2025</span>
                            <span>ğŸ“ Torre Financiera</span>
                        </div>
                        <div class="evento-info-extra">
                            <span>ğŸ‘¥ 75/150 inscritos</span>
                            <span>â± Cierra en 8 dÃ­as</span>
                        </div>
                        <div class="evento-actions">
                            <button class="btn btn-secondary" onclick="verDetallesEvento(6)">ğŸ‘ Ver detalles</button>
                            <button class="btn btn-primary" onclick="unirseEvento(6)">âœ¨ Unirse</button>
                        </div>
                    </div>

                    <!-- Evento 7 - Nuevo -->
                    <div class="evento-card" data-categoria="networking" data-id="7">
                        <div class="evento-card-header">
                            <span class="evento-categoria">ğŸ¢ Networking</span>
                            <span class="evento-fecha-badge">28 Feb</span>
                        </div>
                        <h3 class="evento-titulo">Business Breakfast Club</h3>
                        <p class="evento-descripcion">Desayunos ejecutivos mensuales para crear conexiones de alto valor. Ambiente exclusivo con empresarios destacados...</p>
                        <div class="evento-meta">
                            <span>ğŸ“… 28 Febrero, 2025</span>
                            <span>ğŸ“ Club Empresarial</span>
                        </div>
                        <div class="evento-info-extra">
                            <span>ğŸ‘¥ 25/40 inscritos</span>
                            <span>â± Cierra en 20 dÃ­as</span>
                        </div>
                        <div class="evento-actions">
                            <button class="btn btn-secondary" onclick="verDetallesEvento(7)">ğŸ‘ Ver detalles</button>
                            <button class="btn btn-primary" onclick="unirseEvento(7)">âœ¨ Unirse</button>
                        </div>
                    </div>

                    <!-- Evento 8 - Nuevo -->
                    <div class="evento-card" data-categoria="comercio" data-id="8">
                        <div class="evento-card-header">
                            <span class="evento-categoria">ğŸ’¼ Comercio</span>
                            <span class="evento-fecha-badge">12 Mar</span>
                        </div>
                        <h3 class="evento-titulo">Rueda de Negocios Textil</h3>
                        <p class="evento-descripcion">Especializado en el sector textil y moda. Fabricantes, diseÃ±adores y distribuidores en un solo lugar...</p>
                        <div class="evento-meta">
                            <span>ğŸ“… 12 Marzo, 2025</span>
                            <span>ğŸ“ Centro de Moda</span>
                        </div>
                        <div class="evento-info-extra">
                            <span>ğŸ‘¥ 156/200 inscritos</span>
                            <span>â± Cierra en 25 dÃ­as</span>
                        </div>
                        <div class="evento-actions">
                            <button class="btn btn-secondary" onclick="verDetallesEvento(8)">ğŸ‘ Ver detalles</button>
                            <button class="btn btn-primary" onclick="unirseEvento(8)">âœ¨ Unirse</button>
                        </div>
                    </div>

                    <!-- Evento 9 - Nuevo -->
                    <div class="evento-card" data-categoria="tecnologia" data-id="9">
                        <div class="evento-card-header">
                            <span class="evento-categoria">ğŸš€ TecnologÃ­a</span>
                            <span class="evento-fecha-badge">8 Abr</span>
                        </div>
                        <h3 class="evento-titulo">AI & Business Conference</h3>
                        <p class="evento-descripcion">Descubre cÃ³mo la inteligencia artificial estÃ¡ transformando los negocios. Casos de Ã©xito y oportunidades de colaboraciÃ³n...</p>
                        <div class="evento-meta">
                            <span>ğŸ“… 8 Abril, 2025</span>
                            <span>ğŸ“ Innovation Center</span>
                        </div>
                        <div class="evento-info-extra">
                            <span>ğŸ‘¥ 210/400 inscritos</span>
                            <span>â± Cierra en 48 dÃ­as</span>
                        </div>
                        <div class="evento-actions">
                            <button class="btn btn-secondary" onclick="verDetallesEvento(9)">ğŸ‘ Ver detalles</button>
                            <button class="btn btn-primary" onclick="unirseEvento(9)">âœ¨ Unirse</button>
                        </div>
                    </div>

                </div>

                <!-- Mensaje cuando no hay resultados -->
                <div id="sinResultados" style="display: none; text-align: center; padding: 3rem;">
                    <p style="font-size: 3rem; margin-bottom: 1rem;">ğŸ”</p>
                    <p style="font-size: 1.2rem; color: var(--text-secondary);">No se encontraron eventos con esos criterios.</p>
                    <button class="btn btn-secondary" onclick="limpiarFiltros()" style="margin-top: 1rem;">Limpiar filtros</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal de detalles -->
    <div class="modal" id="modalDetalles">
        <div class="modal-content" style="max-width: 600px;">
            <h3 id="modalTitulo">Detalles del Evento</h3>
            <div id="modalContenido"></div>
            <div style="margin-top: 1.5rem; display: flex; gap: 1rem; justify-content: flex-end;" id="modalAcciones">
                <button class="btn btn-secondary" onclick="cerrarModal()">Cerrar</button>
            </div>
        </div>
    </div>

    <script>
        function logout() {
            localStorage.clear();
            window.location.href = "login.html";
        }

        // Datos de eventos (simulados)
        const eventosData = {
            1: {
                titulo: "Feria de Proveedores 2025",
                descripcion: "Conecta con mÃ¡s de 50 proveedores nacionales e internacionales. Oportunidad Ãºnica para establecer alianzas estratÃ©gicas y conocer las Ãºltimas tendencias del mercado. El evento incluye conferencias magistrales, mesas de negociaciÃ³n programadas y networking exclusivo.",
                fecha: "15 Enero, 2025",
                hora: "9:00 AM - 6:00 PM",
                lugar: "Centro de Convenciones de la Ciudad",
                organizador: "CÃ¡mara de Comercio",
                capacidad: "500 participantes",
                inscritos: 342,
                categoria: "Networking",
                inscrito: true
            },
            2: {
                titulo: "Expo Importadores Latam",
                descripcion: "El evento mÃ¡s grande de importadores de LatinoamÃ©rica. Presenta tus productos a compradores de toda la regiÃ³n y expande tu negocio internacionalmente. Incluye ruedas de negocios B2B y acceso a la base de datos de importadores.",
                fecha: "22 Febrero, 2025",
                hora: "10:00 AM - 8:00 PM",
                lugar: "Hotel Marriott - SalÃ³n Principal",
                organizador: "Trade Alliance",
                capacidad: "300 participantes",
                inscritos: 120,
                categoria: "Comercio",
                inscrito: false
            },
            3: {
                titulo: "Tech Business Summit",
                descripcion: "Descubre las Ãºltimas innovaciones tecnolÃ³gicas para tu negocio. Startups, inversores y empresas consolidadas en un mismo lugar para crear sinergias. Pitch sessions, demo zone y oportunidades de inversiÃ³n.",
                fecha: "10 Marzo, 2025",
                hora: "8:00 AM - 5:00 PM",
                lugar: "Campus Tech Hub",
                organizador: "TechConnect Inc.",
                capacidad: "400 participantes",
                inscritos: 287,
                categoria: "TecnologÃ­a",
                inscrito: true
            },
            4: {
                titulo: "Green Commerce Forum",
                descripcion: "Foro dedicado a empresas con enfoque sostenible. Aprende sobre prÃ¡cticas eco-amigables y conecta con proveedores certificados en comercio verde. Certificaciones, talleres prÃ¡cticos y expo de productos sostenibles.",
                fecha: "5 Abril, 2025",
                hora: "9:00 AM - 4:00 PM",
                lugar: "Parque Empresarial Verde",
                organizador: "EcoTrade Foundation",
                capacidad: "250 participantes",
                inscritos: 89,
                categoria: "Sostenibilidad",
                inscrito: false
            },
            5: {
                titulo: "Food Business Expo",
                descripcion: "El punto de encuentro para el sector gastronÃ³mico. Productores, distribuidores y restaurantes se reÃºnen para crear nuevas oportunidades de negocio. Degustaciones, showcooking y ruedas de proveedores.",
                fecha: "20 Diciembre, 2024",
                hora: "11:00 AM - 9:00 PM",
                lugar: "Centro GastronÃ³mico",
                organizador: "Gourmet Alliance",
                capacidad: "350 participantes",
                inscritos: 298,
                categoria: "GastronomÃ­a",
                inscrito: true
            },
            6: {
                titulo: "Inversores & Startups Connect",
                descripcion: "Conecta directamente con inversores Ã¡ngeles y fondos de capital de riesgo. Sesiones de pitch y networking exclusivo para emprendedores que buscan financiamiento.",
                fecha: "18 Enero, 2025",
                hora: "2:00 PM - 8:00 PM",
                lugar: "Torre Financiera - Piso 25",
                organizador: "Venture Capital Club",
                capacidad: "150 participantes",
                inscritos: 75,
                categoria: "Finanzas",
                inscrito: false
            },
            7: {
                titulo: "Business Breakfast Club",
                descripcion: "Desayunos ejecutivos mensuales para crear conexiones de alto valor. Ambiente exclusivo con empresarios destacados de diversos sectores.",
                fecha: "28 Febrero, 2025",
                hora: "7:30 AM - 10:00 AM",
                lugar: "Club Empresarial - SalÃ³n Dorado",
                organizador: "Elite Business Network",
                capacidad: "40 participantes",
                inscritos: 25,
                categoria: "Networking",
                inscrito: false
            },
            8: {
                titulo: "Rueda de Negocios Textil",
                descripcion: "Especializado en el sector textil y moda. Fabricantes, diseÃ±adores y distribuidores en un solo lugar para crear alianzas comerciales.",
                fecha: "12 Marzo, 2025",
                hora: "10:00 AM - 6:00 PM",
                lugar: "Centro de Moda - Hall Principal",
                organizador: "AsociaciÃ³n Textil Nacional",
                capacidad: "200 participantes",
                inscritos: 156,
                categoria: "Comercio",
                inscrito: false
            },
            9: {
                titulo: "AI & Business Conference",
                descripcion: "Descubre cÃ³mo la inteligencia artificial estÃ¡ transformando los negocios. Casos de Ã©xito, demostraciones en vivo y oportunidades de colaboraciÃ³n con empresas tech.",
                fecha: "8 Abril, 2025",
                hora: "9:00 AM - 7:00 PM",
                lugar: "Innovation Center",
                organizador: "AI Business Association",
                capacidad: "400 participantes",
                inscritos: 210,
                categoria: "TecnologÃ­a",
                inscrito: false
            }
        };

        function verDetallesEvento(id) {
            const evento = eventosData[id];
            document.getElementById('modalTitulo').textContent = evento.titulo;
            document.getElementById('modalContenido').innerHTML = `
                <div class="info-grid" style="margin-bottom: 1rem;">
                    <div class="info-card">
                        <div class="info-card-icon">ğŸ“…</div>
                        <div class="info-card-content">
                            <span class="info-label">Fecha</span>
                            <span class="info-value">${evento.fecha}</span>
                        </div>
                    </div>
                    <div class="info-card">
                        <div class="info-card-icon">ğŸ•</div>
                        <div class="info-card-content">
                            <span class="info-label">Horario</span>
                            <span class="info-value">${evento.hora}</span>
                        </div>
                    </div>
                    <div class="info-card">
                        <div class="info-card-icon">ğŸ“</div>
                        <div class="info-card-content">
                            <span class="info-label">UbicaciÃ³n</span>
                            <span class="info-value">${evento.lugar}</span>
                        </div>
                    </div>
                    <div class="info-card">
                        <div class="info-card-icon">ğŸ‘¥</div>
                        <div class="info-card-content">
                            <span class="info-label">Inscritos</span>
                            <span class="info-value">${evento.inscritos}/${evento.capacidad.split(' ')[0]}</span>
                        </div>
                    </div>
                </div>
                <div style="margin-bottom: 1rem;">
                    <h4 style="margin-bottom: 0.5rem;">DescripciÃ³n</h4>
                    <p>${evento.descripcion}</p>
                </div>
                <div class="docs-grid">
                    <div class="doc-item">
                        <span class="doc-label">Organizador</span>
                        <span class="doc-value">${evento.organizador}</span>
                    </div>
                    <div class="doc-item">
                        <span class="doc-label">CategorÃ­a</span>
                        <span class="doc-value">${evento.categoria}</span>
                    </div>
                </div>
            `;
            
            // Botones del modal segÃºn estado de inscripciÃ³n
            const accionesDiv = document.getElementById('modalAcciones');
            if (evento.inscrito) {
                accionesDiv.innerHTML = `
                    <button class="btn btn-secondary" onclick="cerrarModal()">Cerrar</button>
                    <span class="status-badge status-approved" style="padding: 12px 20px;">âœ“ Ya inscrito</span>
                `;
            } else {
                accionesDiv.innerHTML = `
                    <button class="btn btn-secondary" onclick="cerrarModal()">Cerrar</button>
                    <button class="btn btn-primary" onclick="unirseEvento(${id}); cerrarModal();">âœ¨ Unirse al evento</button>
                `;
            }
            
            document.getElementById('modalDetalles').style.display = 'block';
        }

        function cerrarModal() {
            document.getElementById('modalDetalles').style.display = 'none';
        }

        function unirseEvento(id) {
            const evento = eventosData[id];
            if (confirm(`Â¿Deseas inscribirte a "${evento.titulo}"?`)) {
                evento.inscrito = true;
                evento.inscritos++;
                
                // Mover la tarjeta a "Mis Eventos"
                const card = document.querySelector(`[data-id="${id}"]`);
                if (card) {
                    card.remove();
                }
                
                // Crear nueva tarjeta en Mis Eventos
                const misEventosGrid = document.getElementById('misEventosGrid');
                const nuevaTarjeta = document.createElement('div');
                nuevaTarjeta.className = 'evento-card evento-inscrito';
                nuevaTarjeta.innerHTML = `
                    <div class="evento-card-header">
                        <span class="evento-categoria">${getCategoriaEmoji(evento.categoria)} ${evento.categoria}</span>
                        <span class="status-badge status-approved">Inscrito</span>
                    </div>
                    <h3 class="evento-titulo">${evento.titulo}</h3>
                    <p class="evento-descripcion">${evento.descripcion.substring(0, 100)}...</p>
                    <div class="evento-meta">
                        <span>ğŸ“… ${evento.fecha}</span>
                        <span>ğŸ“ ${evento.lugar.split(' - ')[0]}</span>
                    </div>
                    <div class="evento-actions">
                        <button class="btn btn-secondary" onclick="verDetallesEvento(${id})">ğŸ‘ Ver detalles</button>
                        <button class="btn btn-danger" onclick="cancelarInscripcion(${id})">Cancelar inscripciÃ³n</button>
                    </div>
                `;
                misEventosGrid.appendChild(nuevaTarjeta);
                
                actualizarContadorMisEventos();
                alert(`Â¡Te has inscrito exitosamente a "${evento.titulo}"!`);
            }
        }

        function cancelarInscripcion(id) {
            const evento = eventosData[id];
            if (confirm(`Â¿EstÃ¡s seguro de cancelar tu inscripciÃ³n a "${evento.titulo}"?`)) {
                evento.inscrito = false;
                evento.inscritos--;
                
                // Recargar la pÃ¡gina para simplificar (en producciÃ³n serÃ­a mÃ¡s dinÃ¡mico)
                location.reload();
            }
        }

        function getCategoriaEmoji(categoria) {
            const emojis = {
                'Networking': 'ğŸ¢',
                'Comercio': 'ğŸ’¼',
                'TecnologÃ­a': 'ğŸš€',
                'Sostenibilidad': 'ğŸŒ±',
                'GastronomÃ­a': 'ğŸ½',
                'Finanzas': 'ğŸ’°'
            };
            return emojis[categoria] || 'ğŸ“Œ';
        }

        function actualizarContadorMisEventos() {
            const count = document.querySelectorAll('#misEventosGrid .evento-card').length;
            document.getElementById('contadorMisEventos').textContent = `${count} evento${count !== 1 ? 's' : ''}`;
        }

        // Filtros
        document.getElementById('busquedaEventos').addEventListener('input', filtrarEventos);
        
        document.querySelectorAll('.categoria-tag').forEach(tag => {
            tag.addEventListener('click', function() {
                document.querySelectorAll('.categoria-tag').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                filtrarEventos();
            });
        });

        function filtrarEventos() {
            const busqueda = document.getElementById('busquedaEventos').value.toLowerCase();
            const categoriaActiva = document.querySelector('.categoria-tag.active').dataset.categoria;
            const cards = document.querySelectorAll('#eventosDisponiblesGrid .evento-card');
            let visibles = 0;

            cards.forEach(card => {
                const titulo = card.querySelector('.evento-titulo').textContent.toLowerCase();
                const descripcion = card.querySelector('.evento-descripcion').textContent.toLowerCase();
                const cardCategoria = card.dataset.categoria;
                
                const cumpleBusqueda = titulo.includes(busqueda) || descripcion.includes(busqueda);
                const cumpleCategoria = categoriaActiva === 'todos' || cardCategoria === categoriaActiva;

                if (cumpleBusqueda && cumpleCategoria) {
                    card.style.display = 'block';
                    visibles++;
                } else {
                    card.style.display = 'none';
                }
            });

            document.getElementById('sinResultados').style.display = visibles === 0 ? 'block' : 'none';
        }

        function limpiarFiltros() {
            document.getElementById('busquedaEventos').value = '';
            document.querySelectorAll('.categoria-tag').forEach(t => t.classList.remove('active'));
            document.querySelector('.categoria-tag[data-categoria="todos"]').classList.add('active');
            filtrarEventos();
        }

        // Click fuera del modal para cerrar
        window.onclick = function(event) {
            const modal = document.getElementById('modalDetalles');
            if (event.target === modal) {
                cerrarModal();
            }
        }
    </script>
    <script src="../js/components/sidebar-user.js"></script>
</body>

</html>
